# [8ì¥] í…ìŠ¤íŠ¸ ë¹ˆë„ ë¶„ì„: í•œê¸€ ë‰´ìŠ¤ ê¸°ì‚¬ì˜ í‚¤ì›Œë“œ ë¶„ì„í•˜ê¸°
### ğŸ–¥ï¸ë°ì´í„° ì¤€ë¹„
#### âœ… In [1]
    import json
    import re
    from konlpy.tag import Okt
    from collections import Counter
    import matplotlib
    import matplotlib.pyplot as plt
    from matplotlib import font_manager, rc
    from wordcloud import WordCloud
1) json: jsoní˜•ì‹ì˜ ë°ì´í„°ë¥¼ ë‹¤ë£¨ëŠ”ë° ì‚¬ìš©í•˜ëŠ” ëª¨ë“ˆ
2) re: ë¬¸ìì—´ ê²€ìƒ‰ ë° ì¡°ì‘ì„ ìœ„í•œ ëª¨ë“ˆ(ex. íŠ¹ì • ë¬¸ìì—´ì—ì„œ ëª¨ë“  ì´ë©”ì¼ ì£¼ì†Œ ì°¾ê¸°)
3) konlpy.tag.Okt: í•œêµ­ì–´ ìì—°ì–´ ì²˜ë¦¬ë¥¼ ìœ„í•œ ëª¨ë“ˆë¡œ í•œêµ­ì–´ ë¬¸ì¥ì„ í† í° ë‹¨ìœ„ë¡œ ë¶„ì„í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.
4) collections.Counter: ê°ì²´ ìš”ì†Œë“¤ì˜ ê°œìˆ˜ë¥¼ ì„¸ì–´ ë”•ì…”ë„ˆë¦¬ í˜•íƒœë¡œ ë³€í™˜í•´ì£¼ëŠ” ëª¨ë“ˆ
5) matplotlib: ë°ì´í„°ë¥¼ ì‹œê°í™” í•˜ê¸° ìœ„í•œ ëª¨ë“ˆ
6) matplotlib.pyplot: matplotlibì˜ ë””ìì¸ì„ ìœ„í•œ ëª¨ë“ˆ
7) matplotlib.rc: matplotlibì˜ í°íŠ¸, ìƒ‰ìƒ ë“±ì„ ë³€ê²½í•  ìˆ˜ ìˆëŠ” ëª¨ë“ˆ
8) wordcloud.WordCloud: í…ìŠ¤íŠ¸ ë°ì´í„° ë¹ˆë„ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ ì›Œë“œí´ë¼ìš°ë“œë¥¼ ìƒì„±í•˜ëŠ” ëª¨ë“ˆ

#### âœ… In [2]
  inputFileName = 'etnews.kr_facebook_2016-01-01_2018-08-01_4ì°¨ ì‚°ì—…í˜ëª…'
  data = json.loads(open(inputFileName+'.json', 'r', encoding = 'utf-8').read())
ìˆ˜ì§‘í•œ ë°ì´í„°íŒŒì¼ì„ ì—´ì–´ì„œ jsoní˜•ì‹ìœ¼ë¡œ dataë³€ìˆ˜ì— ì €ì¥í•œë‹¤.

#### â˜‘ï¸ Out [2]
<img width="500" alt="image" src="https://github.com/LeeSomgyul/Assignment_Bigdata/assets/140570847/e60bc2ab-0889-4e8b-be5d-990028973efc">

#### âœ… In [3]
    message = ''
    
    for item in data:
        if 'message' in item.keys():
            message = message + re.sub(r'[^\w]', ' ', item['message'])+''
ë‰´ìŠ¤ ë³¸ë¬¸ ë‚´ìš©(message)ì—ì„œ ë¬¸ìë‚˜ ìˆ«ìê°€ ì•„ë‹Œ ê²ƒ(r'[^\w]')ì€ ê³µë°±ìœ¼ë¡œ ë°”ê¿”(re.sub()) ì œê±°í•œ ë’¤ ì—°ê²°í•˜ì—¬ ë‚´ìš© ì „ì²´ë¥¼ í•˜ë‚˜ì˜ ë¬¸ìì—´ë¡œ messageì— ì €ì¥í•œë‹¤.

#### â˜‘ï¸ Out [3]
<img width="500" alt="image" src="https://github.com/LeeSomgyul/Assignment_Bigdata/assets/140570847/b44784ae-9612-4134-a983-574916d7c7e0">

#### âœ… In [4]
    nlp = Okt()
    message_N = nlp.nouns(message)
í•œêµ­ì–´ ìì—°ì–´ ì²˜ë¦¬ë¥¼ ìœ„í•œ Okt()ê°ì²´ë¥¼ ìƒì„±í•œ ë’¤ nlp.nouns()ë¥¼ í†µí•˜ì—¬ messageì—ì„œ ëª…ì‚¬ë¥¼ ì¶”ì¶œí•œë‹¤.

#### â˜‘ï¸ Out [4]
<img width="500" alt="image" src="https://github.com/LeeSomgyul/Assignment_Bigdata/assets/140570847/b20a4926-e278-4507-995c-bd47b9e10d80">


### ğŸ–¥ï¸ë°ì´í„° íƒìƒ‰ ë° ë¶„ì„ ëª¨ë¸ êµ¬ì¶•
#### âœ… In [5]
    count = Counter(message_N)
ê° ë‹¨ì–´ë³„ ì¶œí˜„ íšŸìˆ˜ë¥¼ ê³„ì‚°í•œë‹¤.

#### â˜‘ï¸ Out [5]
<img width="500" alt="image" src="https://github.com/LeeSomgyul/Assignment_Bigdata/assets/140570847/b10ff67d-7feb-470e-b848-c0409a28c07f">

#### âœ… In [6]
    word_count = dict()
    for tag, counts in count.most_common(80):
        if(len(str(tag))>1):
            word_count[tag] = counts
            print("%s : %d" % (tag, counts))
ì¶œí˜„ íšŸìˆ˜ê°€ ë§ì€ ìƒìœ„ 80ê°œì˜ ë‹¨ì–´ ì¤‘ì—ì„œ ê¸¸ì´ê°€ 1ë³´ë‹¤ í° ê²ƒë§Œ word_count ë”•ì…”ë„ˆë¦¬ì— ì €ì¥í•˜ë©°, í‚¤ëŠ” tag ê°’ì€ countsë¡œ í•œë‹¤.

#### â˜‘ï¸ Out [6]
<img width="180" alt="image" src="https://github.com/LeeSomgyul/Assignment_Bigdata/assets/140570847/4a891027-aa13-48ea-adb6-70ebc9e6e133">

#### âœ… In [7]
    font_path = "c:/Windows/fonts/malgun.ttf"
    font_name = font_manager.FontProperties(fname = font_path).get_name()
    matplotlib.rc('font', family = font_name)
íˆìŠ¤í† ê·¸ë¨ì—ì„œ í•œê¸€ë¡œ í‘œì‹œí•˜ê¸° ìœ„í•´ ë§‘ì€ê³ ë”• í°íŠ¸ë¥¼ ì„¤ì •í•œë‹¤.

#### âœ… In [8]
    plt.figure(figsize=(12, 5))
    plt.xlabel('í‚¤ì›Œë“œ')
    plt.ylabel('ë¹ˆë„ìˆ˜')
    plt.grid(True)
    sorted_Keys = sorted(word_count, key = word_count.get, reverse = True)
    sorted_Values = sorted(word_count.values(), reverse = True)
    plt.bar(range(len(word_count)), sorted_Values, align = 'center')
    plt.xticks(range(len(word_count)), list(sorted_Keys), rotation = 75)
    plt.show()
xì¶•ì„ 'í‚¤ì›Œë“œ', yì¶•ì„ 'ë¹ˆë„ìˆ˜'ë¡œ í•˜ì—¬ íˆìŠ¤í† ê·¸ë¨ì„ ì œì‘í•œë‹¤.
ìì„¸í•œ ë°©ë²•ì€ '8ì¥ ì„¤ëª…) ì˜ë¬¸ ë¬¸ì„œ ì œëª©ì˜ í‚¤ì›Œë“œ ë¶„ì„í•˜ê¸°.md'ì™€ ë™ì¼.

#### â˜‘ï¸ Out [8]
<img width="500" alt="image" src="https://github.com/LeeSomgyul/Assignment_Bigdata/assets/140570847/1f753e60-26d9-45e7-9932-f9b1a5ba604e">


### ğŸ–¥ï¸ê²°ê³¼ ì‹œê°í™”
#### âœ… In [9]
    wc = WordCloud(font_path, background_color='ivory', width=800, height=600)
    cloud = wc.generate_from_frequencies(word_count)
    plt.figure(figsize=(8, 8))
    plt.imshow(cloud)
    plt.axis('off')
    plt.show()
ë‹¨ì–´ë³„ ë¹ˆë„ìˆ˜ë¥¼ ê³„ì‚°í•´ì„œ(.generate_from_frequencies()) ì›Œë“œí´ë¼ìš°ë“œë¥¼ ìƒì„±í•œë‹¤.

#### â˜‘ï¸ Out [9]
<img width="450" alt="image" src="https://github.com/LeeSomgyul/Assignment_Bigdata/assets/140570847/40b28df6-d8f2-4da7-9cd9-44b5aa089a8d">

#### âœ… In [10]
    cloud.to_file(inputFileName + '_cloud.jpg')
ì›Œë“œí´ë¼ìš°ë“œë¥¼ jpg íŒŒì¼ë¡œ ì €ì¥í•œë‹¤.
